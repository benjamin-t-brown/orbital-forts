const G_R_CREATE="create",G_R_JOIN="join",G_R_LEAVE="leave",G_R_START="start",G_R_SET_MAP_INDEX="map",G_R_CONFIRM_ACTION="confirm",G_S_CONNECTED="s-connected",G_S_LIST_UPDATED="s-game-list",G_S_CREATE="s-create",G_S_START="s-start",G_S_LOBBY_LIST_UPDATED="s-lobby-list",G_S_LEAVE="s-leave",G_S_JOIN="s-join",G_S_STOP="s-stop",G_S_BROADCAST="s-broadcast",G_S_START_SIMULATION="s-simulate-start",G_S_STOP_SIMULATION="s-simulate-stop",G_S_FINISHED="s-finished",G_G=667428e-16,G_AU=1496e8,G_SCALE=75/G_AU,G_FRAME_MS=13.3333;let G_SPEEDS={Normal:[55e3,0],Super:[125e3,100]};const G_action_move="Move",G_action_shoot="Shoot",G_action_spread="Spreadfire",G_res_coin="coin",G_res_spray="spray";let G_actions=[["Move",75],["Shoot",0],["Spreadfire",50]],G_getActionCost=t=>G_actions.reduce((_,[e,s])=>e===t?s:_,0),G_getSpeedCost=t=>G_SPEEDS[t][1];const G_getRandomLocInCircle=(t,_,e)=>{let s=2*Math.PI*Math.random(),a=Math.sqrt(Math.random())*e;return{x:t+a*Math.cos(s),y:_+a*Math.sin(s)}},G_Body=(t,_,e,s,a,o,r,G,S)=>({meta:t,mass:_,color:e,r:s,vx:a,vy:o,px:r,py:G,t:S}),G_applyGravity=(t,_,e,s)=>{const a=(t,_)=>Math.sqrt(t**2+_**2),o=(t,_,e,s)=>a(t,_)<=e+s,r=(t,_)=>{let{px:e,py:s,mass:r,r:G}=t,{px:S,py:n,mass:c,r:l}=_,i=S-e,p=n-s,E=Math.max(a(i,p),.001),h=o(i,p,G,l),A=G_G*r*c/E**2,T=Math.atan2(p,i);return{fx:Math.cos(T)*A,fy:Math.sin(T)*A,c:h}};let G=[],S=172800*s/13.3333;for(let s=0;s<t.length;s++){let a=t[s],n=0,c=0;for(let t=0;t<_.length;t++){let e=_[t];if(a===e)continue;let{fx:s,fy:o,c:S}=r(a,e);S?G.push([a,e]):(n+=s,c+=o)}for(let t=0;t<e.length;t++){let _=e[t],{x:s,y:r,r:S}=_;o(s-a.px,r-a.py,S,a.r)&&a.meta.player!==_.id&&G.push([a,_])}a.vx+=n/a.mass*S,a.vy+=c/a.mass*S,a.px+=a.vx*S,a.py+=a.vy*S}return G};