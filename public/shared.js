const G_R_CREATE="create",G_R_JOIN="join",G_R_LEAVE="leave",G_R_START="start",G_R_SET_MAP_INDEX="map",G_R_CONFIRM_ACTION="confirm",G_S_CONNECTED="s-connected",G_S_LIST_UPDATED="s-game-list",G_S_CREATE="s-create",G_S_START="s-start",G_S_LOBBY_LIST_UPDATED="s-lobby-list",G_S_LEAVE="s-leave",G_S_JOIN="s-join",G_S_STOP="s-stop",G_S_BROADCAST="s-broadcast",G_S_START_SIMULATION="s-simulate-start",G_S_STOP_SIMULATION="s-simulate-stop",G_S_FINISHED="s-finished",G_G=667428e-16,G_AU=1496e8,G_SCALE=75/G_AU,G_FRAME_MS=13.3333;let G_SPEEDS={Normal:[55e3,0],Super:[125e3,100]},G_actions=[["Shoot",0],["Move",50]],G_getActionCost=t=>G_actions.reduce((_,[e,s])=>e===t?s:_,0),G_getSpeedCost=t=>G_SPEEDS[t][1];const G_getRandomLocInCircle=(t,_,e)=>{let s=2*Math.PI*Math.random(),a=Math.sqrt(Math.random())*e;return{x:t+a*Math.cos(s),y:_+a*Math.sin(s)}},G_Body=(t,_,e,s,a,G,o,S,r)=>({meta:t,mass:_,color:e,r:s,vx:a,vy:G,px:o,py:S,t:r}),G_applyGravity=(t,_,e,s)=>{const a=(t,_)=>Math.sqrt(t**2+_**2),G=(t,_,e,s)=>a(t,_)<=e+s,o=(t,_)=>{let{px:e,py:s,mass:o,r:S}=t,{px:r,py:n,mass:l,r:c}=_,E=r-e,p=n-s,A=Math.max(a(E,p),.001),T=G(E,p,S,c),i=G_G*o*l/A**2,h=Math.atan2(p,E);return{fx:Math.cos(h)*i,fy:Math.sin(h)*i,c:T}};let S=[],r=172800*s/13.3333;for(let s=0;s<t.length;s++){let a=t[s],n=0,l=0;for(let t=0;t<_.length;t++){let e=_[t];if(a===e)continue;let{fx:s,fy:G,c:r}=o(a,e);r?S.push([a,e]):(n+=s,l+=G)}for(let t=0;t<e.length;t++){let _=e[t],{x:s,y:o,r:r}=_;G(s-a.px,o-a.py,r,a.r)&&a.meta.player!==_.id&&S.push([a,_])}a.vx+=n/a.mass*r,a.vy+=l/a.mass*r,a.px+=a.vx*r,a.py+=a.vy*r}return S};